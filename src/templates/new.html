{% extends "base.html" %}

{% block title %}New Reference{% endblock %}



{% block content %}
{% block dropdown_menu %}
<div class="form-group">
    <label for="referenceType">Reference Type:</label>
    <select class="form-control-dropdown" id="referenceType" onchange="updateFormFields()">
        <option value="article">Article</option>
        <option value="book">Book</option>
        <option value="inproceeding">Inproceeding</option>
    </select>
{% endblock %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        updateFormFields(); 
    });
</script>
    
    <div class="container mt-4">
		<h3>New Reference</h3>
		<br>
        <!-- Article Form Fields -->
        <div id="articleFields" style="display: none;">
        <form method="post" class="needs-validation">
            <div class="form-group">
                <label for="author">Author:</label>
                <input type="text" class="form-control" name="author" id="author" required>
            </div>
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" name="title" id="title" required>
            </div>
            <div class="form-group">
                <label for="journal">Journal:</label>
                <input type="text" class="form-control" name="journal" id="journal" required>
            </div>
            <div class="form-group">
                <label for="year">Year:</label>
                <input type="text" class="form-control" name="year" id="year" required>
            </div>
            <div class="form-group">
                <label for="volume">Volume:</label>
                <input type="text" class="form-control" name="volume" id="volume">
            </div>
            <div class="form-group">
                <label for="pages">Pages:</label>
                <input type="text" class="form-control" name="pages" id="pages">
            </div>
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    </div>
</div>
<!-- Book Form Fields -->
<div id="bookFields" style="display: none;">
    <form method="post" class="needs-validation">
        <div class="form-group">
            <label for="author">Author:</label>
            <input type="text" class="form-control" name="author" id="author" required>
        </div>
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" class="form-control" name="title" id="title" required>
        </div>
        <div class="form-group">
            <label for="journal">Publisher:</label>
            <input type="text" class="form-control" name="journal" id="publisher" required>
        </div>
        <div class="form-group">
            <label for="year">Year:</label>
            <input type="text" class="form-control" name="year" id="year" required>
        </div>
        <div class="form-group">
            <label for="volume">Volume:</label>
            <input type="text" class="form-control" name="volume" id="volume">
        </div>
        <div class="form-group">
            <label for="pages">Pages:</label>
            <input type="text" class="form-control" name="pages" id="pages">
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>
</div>
<!-- Inproceeding Form Fields -->
<div id="inproceedingFields" style="display: none;">
    <form method="post" class="needs-validation">
        <div class="form-group">
            <label for="author">Author:</label>
            <input type="text" class="form-control" name="author" id="author" required>
        </div>
        <div class="form-group">
            <label for="title">Title:</label>
            <input type="text" class="form-control" name="title" id="title" required>
        </div>
        <div class="form-group">
            <label for="year">Year:</label>
            <input type="text" class="form-control" name="year" id="year" required>
        </div>
        <div class="form-group">
            <label for="volume">Booktitle:</label>
            <input type="text" class="form-control" name="volume" id="volume">
        </div>
        <div class="form-group">
            <label for="pages">Pages:</label>
            <input type="text" class="form-control" name="pages" id="pages">
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>
</div>
</div>
<script>
    function updateFormFields() {
        var selection = document.getElementById('referenceType').value;
        document.getElementById('articleFields').style.display = (selection === 'article') ? 'block' : 'none';
        document.getElementById('bookFields').style.display = (selection === 'book') ? 'block' : 'none';
        document.getElementById('inproceedingFields').style.display = (selection === 'inproceeding') ? 'block' : 'none';
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        updateFormFields(); 
    });
    </script>

{% endblock %}
